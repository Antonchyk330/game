import random


def main():
    print("Ласкаво просимо в текстову гру 'Пошук скарбів пригод'!")
    print("Ти головний герой, який шукає скарби на острові. Твій вибір впливає на твою долю.")
    print("Ти стоїш перед розгалуженням шляху. Вибери, куди йти:")


    while True:
        print("1. Піти в гущавину лісу")
        print("2. Вирушити на пляж")
        print("3. Зайти в старий печерний мінувшину")
        choice = input("Ваш вибір (1/2/3): ")


        if choice == "1":
            forest_path()
        elif choice == "2":
            beach_path()
        elif choice == "3":
            cave_path()
        else:
            print("Вибери відповідний варіант (1/2/3).")


def forest_path():
    print("Ти потрапив в гущавину лісу.")
    print("Знайшовши старий пень, побачив три шляхи:")
    print("1. Піти глибше в ліс.")
    print("2. Повернутися назад на пляж.")
    print("3. Вийти з лісу на горизонт.")


    while True:
        choice = input("Ваш вибір (1/2/3): ")


        if choice == "1":
            outcome = random.choice(["Ти виявив скарб і став багатим!",
                                    "Потрапив у пастку, втратився в лісі і не знайшов скарб.",
                                    "Зустрів ворогів і вижив за крайнім сценарієм."])
            print(outcome)
            break
        elif choice == "2":
            main()
        elif choice == "3":
            print("Ти вийшов з лісу на горизонт і побачив краєвид острова.")
            print("Гра закінчена.")
            break
        else:
            print("Вибери відповідний варіант (1/2/3).")


def beach_path():
    print("Ти вирушив на пляж.")
    print("Знайшовши старий кільчастий корабель, побачив три можливості:")
    print("1. Перевірити корабель.")
    print("2. Покинути пляж та вирушити в гущавину лісу.")
    print("3. Подати в сторону ближнього острова на плоту.")


    while True:
        choice = input("Ваш вибір (1/2/3): ")


        if choice == "1":
            outcome = random.choice(["Ти відкрив скарб на кораблі і став багатим!",
                                    "Під час перевірки корабельного трюму він вибухнув, і ти загинув.",
                                    "Ти виявив, що корабель не повністю функціонує і не маєш шляху назад."])
            print(outcome)
            break
        elif choice == "2":
            forest_path()
        elif choice == "3":
            print("Ти подався на плоті в бік іншого острова, але не знайшов скарбу.")
            print("Гра закінчена.")
            break
        else:
            print("Вибери відповідний варіант (1/2/3).")


def cave_path():
    print("Ти зайшов в старий печерний мінувшину.")
    print("Знайшовши відгалуження, ти маєш рішення вибору:")
    print("1. Піти глибше в печеру.")
    print("2. Повернутися на пляж.")
    print("3. Вийти на зовнішню сторону печери.")


    while True:
        choice = input("Ваш вибір (1/2/3): ")


        if choice == "1":
            outcome = random.choice(["Ти виявив скарб у глибині печери і став багатим!",
                                    "Зустрів печерних істот, які допомогли тобі знайти скарб.",
                                    "Заблукав у печері та не знайшов скарбу."])
            print(outcome)
            break
        elif choice == "2":
            main()
        elif choice == "3":
            print("Ти вийшов з печери і побачив краєвид острова.")
            print("Гра закінчена.")
            break
        else:
            print("Вибери відповідний варіант (1/2/3).")


if __name__ == "__main__":
    main()
